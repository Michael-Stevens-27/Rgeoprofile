---
title: "Introduction to using R - Part 1"
author: "Michael Stevens"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction to using R - Part 1}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Introduction

Now that we have installed R and Rstudio, it's time to get down to some coding! This tutorial will focus on the fundamental basics of writing and running R code. This will include:

  * The Rstudio interface
  * Where to write and run code
  * Saving a script
  * Assigning objects
  * Arithmetic and logical operators
  
## The Rstudio interface

As mentioned in the previous tutorial when you start up Rstudio, you should be welcomed with the following interface: 

\  
![](https://github.com/Michael-Stevens-27/Rgeoprofile/raw/workshop/docs/articles/images/Rstudio_welcome_numbered.png)
\  

The intereface should consist of four main panels: 

**1** - The **top left** panel is the script window; this is where you will write all of your code. This window may not be currently visible, if not, click on File -> New File -> Rscript. Or, simply type `Ctrl Shift N` on the keyboard.
  
**2** - Once you have written your code, you will need to run it. The **bottom left** panel consists of the following tabs:

* *Console* - This is the window where you will be running your code and reading off the output. A line of code can be sent from the script to the console by clicking on the relevant line of code and hitting `Ctrl ENTER` on the keyboard. 
* *Terminal* - This allows you to access the command prompt from Rstudio without having to pull another window up.
* *Jobs* - This tab allows us to run some code in the background whilst allowing us to continue using Rstudio.
  
**3** - The **top right** panel displays a few different pieces of information:

* *Environment* - This will list the different R objects in the current R session. We can see an example in the screenshot above, that `x` is equal to `5`.
* *History* - This gives us a list of each piece of code we have sent to the terminal window
* *Connections* - Allows us to connect to data bases, speeding up the process of importing and manipulating data.
* *Tutorial* - Displays tutorials built via the `learnr` package.
  
**4** - The **bottom right** panel is also responsible for many things as we can see across the tabs:

* *Files* - This shows the current directory that we are in. This will be useful later for accessing data. 
* *Plots* - If we've written some code to plot a graph, this will show up in the window once we've run the relevant code. 
* *Packages* - This will list off all the packages that are being used in the current R session. 
* *Help* - This window will pop open anytime you run some code seeking help with a particular function. For example, running `?sd` will display the documentation on the standard deviation function.  
* *Viewer* - This will display a preview of any HTML documents or shiny apps that you are building.

This was a lot of information in one go! Don't worry too much about remembering it all. This page is here for you to come back to if and when you need it. There will be a reminder throughout these tutorials when we revisit any of the above.

## Write, run and comment code

Let's start with a simple example - can we get R to add 1 and 2 together? There are two ways we can do this. Firstly, we can click inside the console window (number 2 above), type `1 + 2` and hit `ENTER`.

\  
![](https://github.com/Michael-Stevens-27/Rgeoprofile/raw/workshop/docs/articles/images/console.png)
\  

We should see the number `3` get spat out by the console as shown above. The other, and preferable, way to run this code is to type it up in the script window (number 1 above), click on the line of code we want to run and hit `Ctrl ENTER` or click on the "Run" button to send the code down to the console. 

\  
![](https://github.com/Michael-Stevens-27/Rgeoprofile/raw/workshop/docs/articles/images/control_enter.png)
\  

As we can see, this results in the same output. Writing in an Rscript is preferable over typing code straight into the console because the console requires us to type out the same code over and over again. Writing in an Rscript means we write the code out once and only requires `Ctrl ENTER` or the "Run" button to rerun. It's pretty obvious that running `1 + 2` will calculate the sum of one and two. However, it won't always be obvious what our code is doing and for this reason it is incredibly important to **comment our code**. Commenting consists of writing notes in the Rscript that describe what our code is doing. We can comment out a line of code using the "number" or "hashtag" symbol `#`. Revisiting our example of adding one and two: 

\  
![](https://github.com/Michael-Stevens-27/Rgeoprofile/raw/workshop/docs/articles/images/comment.png)
\  

Any line of code starting with the `#` symbol will be ignored by R when running the code. As we can see, R ignored the line with the comment and then ran `1 + 2` normally. Commenting code is fundemental to good coding practice. This way, when you revisit any code, you know exactly what it is doing. It is becoming common practice to provide code to publishers as supplementary material when submitting a publication, hence we want to make sure our code is as transparent as possible when sharing it with others. 

Throughout this tutorial and others, code will be presented to a user via an image of the Rstudio interface. A user might want to copy over code in these screenshots and include/play around with them in their own Rscripts. To save some time, code will also be visible to a user in the format below:

```{r}
1 + 2
``` 

This format will show a piece of R code and the output from the console (if there is any). In order to copy the code from these small snippets, simply hover your mouse over the chunk and an option to copy this code should appear in the top right of the code chunk. 

\  
![](https://github.com/Michael-Stevens-27/Rgeoprofile/raw/workshop/docs/articles/images/copy.png)
\  


## Saving your script

We can save the R script we've been working on in this tutorial by going to File -> Save As... and choosing a name for this first R script. I've called mine "my_script.R".

\  
![](https://github.com/Michael-Stevens-27/Rgeoprofile/raw/workshop/docs/articles/images/save.png)
\  

Notice the ".R" extension. This indicates that this file contains R code and as a consequence, Rstudio (or any other user interface for writing code) will colour the code syntax accordingly. For example, notice that comments are a different colour in our R script. Each coding language has its own extenstion, for example, if we were writing a piece of code using the python language our extension would be ".py".

## Assigning and naming objects 

The previous example of adding `1 + 2` gave us an immediate answer in the R console window, however, when writing R code, we may want to store a value so that we can use it later on in another piece of code. We can do this by **assigning** an object a specific value. Assigning objects can be done using the `<-` symbol. This symbol conisists of the less than symbol `<` immediately followed by the minus symbol `-`. Let's see an example

\  
![](https://github.com/Michael-Stevens-27/Rgeoprofile/raw/workshop/docs/articles/images/assign.png)
\  

Here we assigned the value `5` to `x`, via the code `x <- 5`, so `x` is the object with value `5` assigned to it. This assigning symbol `<-` should always point to the object name. In this case the arrow points to `x`. You may have noticed that when you ran `x <- 5` something appeared up in the *Environment* window in the top right screen (panel number 3).

\  
![](https://github.com/Michael-Stevens-27/Rgeoprofile/raw/workshop/docs/articles/images/assign_environment.png)
\  

R has told us that there is an object named "x" with the value "5" assigned to it in the "global environemnt". This is essentially what is stored in R's memory. So when we assigned the value `5` to `x`, R placed `x` in its memory. To access `x`, we can run the folowing code.

```{r}
# assign the value 5 to x
x <- 5

# print x
x
```

Now we can use `x` as if it were the value `5` in another piece of code.

```{r}
# add 12 to x
x + 12
```  

We added 12 to `x` resulting in the console output `17`. Let's assign a value to a new object with a different name.

```{r}
# assign y the value 13 
y <- 13

```
  
We can now use our `x` and `y` objects in another piece of code, let's add them together. 

```{r}
# add x and y together
x + y
```  

Though we've chosen `x` and `y` for the names of our objects, the names themselves are arbitrary.  

```{r}
# create some objects with different names
value <- 12

my_number <- 27

smallValue <- 0.001
```  

Notice with the last assignment that the variable name conveniently gives us some information about the value itself. There are some exceptions to what we can choose as an object name. For example an object name can't start with a numerical value. So assigning a value to the object name `3my_value` will result in an error. Follow [this link](https://www.dummies.com/programming/r/how-to-successfully-follow-naming-conventions-in-r/) for more information on choosing object names. 

## Arithmetic operators

So far all our code has consisted of adding two numbers together. R is capable of all the other **arithmetic operators** too including: 

Addition - using the `+` symbol:

```{r}
# addition "+"
7 + 8
```

Subtraction - using the `-` symbol:

```{r}
# subtraction "-"
19 - 22
```

Multiplication - using the `*` symbol:

```{r}
# multiplication "*"
3 * 7
```

Division - using the `/` symbol:

```{r}
# division "/"
52 / 9
```

Exponentiation or "to the power" - using `^` or `**`:

```{r}
# exponentiation "^" or "**"
3 ^ 2
# or
3 ** 2
```

Modulus - using `%%`:

```{r}
# modulus "%%" - giving the remainder after division
7 %% 3
```

Integer division - using the `%/%` symbol:

```{r}
# integer division "%/%"
7 %/% 3
```


## Logical operators

In addition to arithmetic operators, R also has a list of **logical operators**. We will provide R with a statement and the console will return a binary output depending on whether or not the statement in our code is `TRUE` or `FALSE`. For example is five greater than 3?

```{r}
# is 5 greater than 3?
5 > 3

# is 5 greater than 7?
5 > 7
```

We used the greater than symbol `>` in our statement, leading to the consoles TRUE/FALSE output. The other logical operators are:

Less than - using the `<` symbol:

```{r}
# less than "<"
5 < 7
7 < 5
```

Less than or equal to - using the `<=` symbol:

```{r}
# less than or equal to "<="
19 <= 22
22 <= 22
```

Greater than or equal to - using the `>=` symbol:

```{r}
# greater than or equal to ">="
52 >= 9
52 >= 52
```

Exactly equal to - using the `==` symbol:

```{r}
# exactly equal to "=="
3 == 3
3 == 3.1
```

Not equal to - using the `!=` symbol:

```{r}
# not equal to "!="
3 != 2
3 != 3
```

Not `x` - using the `!` symbol:

```{r}
# not x "!x"
5 > 4      
!(5 > 4)
```

Given a logical statement, adding `!` in front of it will return the opposite answer we would normally receive. So, in this example, `5 > 4` returns `TRUE`. Hence, `!(5 > 4)` returns the opposite of `TRUE`, which is `FALSE`. 

x or y - using the `|` symbol:

```{r}
# x or y "x | y"
7 > 3 | 7 > 8
```

This statement is returning `TRUE` since **either** `7 > 3` or `7 > 8` are `TRUE`. The whole statement only requires a single of the two statements to be `TRUE` for the whole thing to be `TRUE`.  

x and y - using the `&` symbol:

```{r}
# x and y "x & y"
7 > 3 & 7 > 8
7 > 3 & 7 > 6
```

This time, we require both individual statements to be `TRUE` for the whole statement to return `TRUE`.

## More examples

Here are a few examples combining the content of this tutorial.

```{r}
# assign x the sum of the first four intgers
x <- 1 + 2 + 3 + 4 

# assign y the sum of 5, 6 and 7
y <- 5 + 6 + 7

# which is one is bigger?
y > x

# are they equal?
y == x

# assign z the value of y divided by x
z <- y/x

# raise z to the power of a half
z ^ 0.5 
```

That's all from this tutorial, hopefully you've gotten a basic idea of what R is capable of. It's worth taking the time to come up with your own examples too. 
