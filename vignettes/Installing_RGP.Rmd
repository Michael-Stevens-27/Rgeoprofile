---
title: "Installing the RgeoProfile package"
author: "Michael Stevens"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Installing the RgeoProfile package}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---


## Installing Rcpp

Before we can install Rgeoprofile, we need to install Rcpp. Although Rcpp is an R package, it requires another piece of software to work properly that is dependent on the operating system you are using. This piece of software will link the R coding language with the C++ coding language. C++ is used in the RgeoProfile package in order to decrease the time it takes to run the model.  

If you are working on a **windows** computer you need to download and install [Rtools40](https://cran.rstudio.com/bin/windows/Rtools/) via the " rtools40-x86_64.exe" link. On installation, ensure you check the box to arrange your system as recommended by Rtools. Once the file has finished downloading click on the .exe file and follow the installation process - this may take a few minutes.    

If you are working on a **mac** computer download and install [XCode](http://itunes.apple.com/us/app/xcode/id497799835?mt=12). Within XCode go to Preferences: Downloads and install the Command Line Tools

If you are using **Linux (Debian/Ubuntu)** install the core software development utilities required for R package development as well as LaTeX by executing the following in a terminal window:

```
sudo apt-get install r-base-dev texlive-full
```

## Installing the RgeoProfile package

Next, in order to install RgeoProfile from github we need the devtools package to be installed. This can be accomplished in Rstudio with the following code:

```{r, eval = FALSE}
install.packages("devtools")
```

We then load the package using:

```{r, eval = FALSE}
library(devtools)
```

Finally, we can install the RgeoProfile via the `install_github()` function and load the package using the `library() function`, this may also take a few minutes. 

```{r, eval = FALSE}
install_github("Michael-stevens-27/Rgeoprofile", ref = "workshop")
library(RgeoProfile)
```

Once installed, documentation for each function can be found [here](https://michael-stevens-27.github.io/Rgeoprofile/reference/index.html) and can also be accessed by running the following code in Rstudio: 

```{r, eval = FALSE}
?geoData 
```

```{r, eval = FALSE, echo = FALSE}
# Next you need an API key for Google Maps. Earlier this year GoogleMaps changed the way they price API calls – see here (https://cloud.google.com/maps-platform/pricing/#details). Under the new system there is a lower limit on API calls below which you won’t be charged, but annoyingly you still need to sign up for an API key otherwise it produces a 403 error.
# 
# Instructions on signing up for a GoogleMaps API key can be found here (https://developers.google.com/maps/documentation/javascript/get-api-key). Then – just to be extra sure that you will never be charged - you can limit your budget to something very low (like £1) by following these instructions (https://cloud.google.com/billing/docs/how-to/budgets?hl=en). This way you can be sure you will only use the free API calls, and your account will cap before you start being charged any significant amount of money.
# 
# Once you have a key (which should look like a long string of letters and numbers) you need to register it in R as below, replacing 'xxxxxxx' with your key. Start by installing and loading the “ggmap” package. Note that this should be installed from GitHub since the CRAN version doesn’t currently include the function register_google(). After loading the ggmap library, load RgeoProfile as normal. Once your key is registered mapping functions in RgeoProfile should work normally.
# ```{r, eval = FALSE}
# install_github("dkahle/ggmap")
# library(ggmap)
# register_google(key ="xxxxxxxx")
# ```
# More details can be found here: (https://rdrr.io/github/fresques/ggmap/man/register_google.html
# 
# We know this is inconvenient and makes it more difficult for users to work with our package. For this reason the next version of RgeoProfile is likely to switch to open source alternatives.
# 
# Finally, install the RgeoProfile package directly from GitHub by running
```
