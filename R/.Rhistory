library(devtools)
document()
?ringHS
data(Cholera)
d <- geoData(Cholera[,1],Cholera[,2])#
data(WaterPumps)#
s <- geoDataSource(WaterPumps[,1], WaterPumps[,2])#
p <- geoParams(data = d, sigma_mean = 1.0, sigma_squared_shape = 2, samples = 20000, #
chains = 10, burnin = 1000, priorMean_longitude = mean(d$longitude), #
priorMean_latitude = mean(d$latitude), guardRail = 0.1)#
m <- geoMCMC(data = d, params = p)#
gp <- m$geoProfile#
# basic map#
geoPlotMap(params = p, data = d, source = s, breakPercent = seq(0, 50, 5), mapType = "hybrid",#
contourCols = c("red", "orange", "yellow", "white"), crimeCol = "black", crimeBorderCol = "white", #
crimeCex = 2, sourceCol = "red", sourceCex = 2, surface = gp)#
geoReportHitscores(params=p,source_data=s,surface=m$surface)#
ringHS(params = p, data = d, source = s, buffer_radii=c(1000,2000,5000))
rm(list=ls())
library(devtools)
install.packages("~/GitHub/Rgeoprofile", repos = NULL, type = "source",force=TRUE)
# john snow cholera data#
data(Cholera)#
d <- geoData(Cholera[,1],Cholera[,2])#
data(WaterPumps)#
s <- geoDataSource(WaterPumps[,1], WaterPumps[,2])#
p <- geoParams(data = d, sigma_mean = 1.0, sigma_squared_shape = 2, samples = 20000, #
chains = 10, burnin = 1000, priorMean_longitude = mean(d$longitude), #
priorMean_latitude = mean(d$latitude), guardRail = 0.1)#
m <- geoMCMC(data = d, params = p)#
gp <- m$geoProfile#
# basic map#
geoPlotMap(params = p, data = d, source = s, breakPercent = seq(0, 50, 5), mapType = "hybrid",#
contourCols = c("red", "orange", "yellow", "white"), crimeCol = "black", crimeBorderCol = "white", #
crimeCex = 2, sourceCol = "red", sourceCex = 2, surface = gp)#
geoReportHitscores(params=p,source_data=s,surface=m$surface)#
ringHS(params = p, data = d, source = s, buffer_radii=c(1000,2000,5000))
?SpatialPointsDataFrame
